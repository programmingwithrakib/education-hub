
### **Scripted Pipeline ржХрзА**

**Scripted Pipeline** рж╣рж▓рзЛ Jenkins-ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржкрзБрж░рзЛржирзЛ ржПржмржВ traditional pipeline format,  
ржпрзЗржЦрж╛ржирзЗ ржкрзБрж░рзЛ pipeline рж▓рзЗржЦрж╛ рж╣рзЯ **Groovy scripting language** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

ржПржЯрж┐ ржПржХ ржзрж░ржирзЗрж░ **code-driven pipeline**,  
ржпрзЗржЦрж╛ржирзЗ developer рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ control ржкрж╛рзЯ тАФ ржХржмрзЗ ржХрзЛржи stage ржЪрж▓ржмрзЗ, ржХрзАржнрж╛ржмрзЗ ржЪрж▓ржмрзЗ, ржХрзЛржи рж╢рж░рзНрждрзЗ ржЪрж▓ржмрзЗ ржЗрждрзНржпрж╛ржжрж┐ред

рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж▓рзЗ ЁЯСЗ

> **Scripted Pipeline** рж╣рж▓рзЛ Jenkins pipeline-ржПрж░ ржПржоржи ржПржХ ржзрж░ржи, ржпрзЗржЦрж╛ржирзЗ ржкрзБрж░рзЛ workflow ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржХрж░рзЗ рж▓рзЗржЦрж╛ рж╣рзЯ (Groovy scripting ржПрж░ ржорж╛ржзрзНржпржорзЗ)ред

---

### **Scripted Pipeline-ржПрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп (Key Characteristics)**

1. **Groovy-based** тАУ ржПржЯрж┐ рж╕ржорзНржкрзВрж░рзНржгрж░рзВржкрзЗ **Groovy syntax** ржжрж┐рзЯрзЗ рж▓рзЗржЦрж╛ рж╣рзЯред
    
2. **Flexible & Powerful** тАУ developer ржЪрж╛ржЗрж▓рзЗ ржпрзЗржХрзЛржирзЛ custom logic (loop, if-else, condition, function) ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рзЗред
    
3. **Complex Workflow Control** тАУ Parallel stages, retry logic, dynamic input, manual approval ржЗрждрзНржпрж╛ржжрж┐ рж╕рж╣ржЬрзЗ рж▓рзЗржЦрж╛ ржпрж╛рзЯред
    
4. **Code-driven** тАУ Pipeline as Code ржХржирж╕рзЗржкрзНржЯ ржЕржирзБржпрж╛рзЯрзА ржкрзБрж░рзЛ process script ржЖржХрж╛рж░рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛рзЯред
    
5. **Less Structured** тАУ Declarative Pipeline-ржПрж░ ржорждрзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ structure ржирзЗржЗ, рждрж╛ржЗ ржХрж┐ржЫрзБржЯрж╛ complex ржоржирзЗ рж╣рждрзЗ ржкрж╛рж░рзЗред
    

---

### **Scripted Pipeline-ржПрж░ ржЧржаржи (Structure)**

ржПржХржЯрж┐ Scripted Pipeline рж╕рж╛ржзрж╛рж░ржгржд ржжрзБржЗржЯрж┐ ржкрзНрж░ржзрж╛ржи ржмрзНрж▓ржХрзЗ рж▓рзЗржЦрж╛ рж╣рзЯ ЁЯСЗ

- **node {}** тЖТ Pipeline ржХрзЛржерж╛рзЯ ржЪрж▓ржмрзЗ (agent ржмрж╛ executor define ржХрж░рзЗ)
    
- **stage {}** тЖТ ржХрж╛ржЬрзЗрж░ ржзрж╛ржк ржмрж╛ step ржЧрзБрж▓рзЛ
    

ржкрзНрж░рждрж┐ржЯрж┐ stage ржПрж░ ржоржзрзНржпрзЗ **steps** ржерж╛ржХрзЗ, ржпрзЗржЦрж╛ржирзЗ **sh**, **echo**, **git**, **archiveArtifacts** ржЗрждрзНржпрж╛ржжрж┐ command ржжрзЗржУрзЯрж╛ рж╣рзЯред

---

### **Example: Scripted Jenkins Pipeline**

ржирж┐ржЪрзЗ ржПржХржЯрж┐ рж╕рж╣ржЬ **Scripted Pipeline** ржЙржжрж╛рж╣рж░ржг ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ ЁЯСЗ

```groovy
node {
    stage('Checkout') {
        echo 'Fetching source code...'
        git 'https://github.com/example/project.git'
    }

    stage('Build') {
        echo 'Building the project...'
        sh 'npm install'
        sh 'npm run build'
    }

    stage('Test') {
        echo 'Running tests...'
        sh 'npm test'
    }

    stage('Deploy') {
        echo 'Deploying to server...'
        sh './deploy.sh'
    }
}
```

ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ:

- **node** ржмрзНрж▓ржХрзЗрж░ ржоржзрзНржпрзЗ pipeline ржЪрж╛рж▓рж╛ржирзЛ рж╣ржЪрзНржЫрзЗред
    
- ржкрзНрж░рждрж┐ржЯрж┐ **stage** ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржХрж╛ржЬ ржХрж░ржЫрзЗ (Checkout тЖТ Build тЖТ Test тЖТ Deploy)ред
    
- Groovy scripting-ржПрж░ ржХрж╛рж░ржгрзЗ developer ржЪрж╛ржЗрж▓рзЗ condition, loop, ржмрж╛ retry ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рзЗред
    

---

### **Advanced Example with Conditional Logic**

```groovy
node {
    stage('Build') {
        try {
            sh 'npm install'
            sh 'npm run build'
        } catch (err) {
            echo "тЭМ Build failed: ${err}"
            currentBuild.result = 'FAILURE'
            return
        }
    }

    stage('Deploy') {
        if (env.BRANCH_NAME == 'main') {
            echo 'Deploying to production...'
            sh './deploy-prod.sh'
        } else {
            echo 'Deploying to staging...'
            sh './deploy-staging.sh'
        }
    }
}
```

ЁЯСЙ ржПржЦрж╛ржирзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ, Scripted Pipeline ржП **if-else** condition ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ environment ржЕржирзБржпрж╛рзЯрзА ржЖрж▓рж╛ржжрж╛ deploy ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред  
Declarative Pipeline-ржП ржПржЯрж┐ ржХрж░рж╛ ржХржарж┐ржи рж╣рж▓рзЗржУ, Scripted Pipeline ржП рж╕ржорзНржкрзВрж░рзНржгрж░рзВржкрзЗ рж╕ржорзНржнржмред

---

### **Scripted Pipeline-ржПрж░ рж╕рзБржмрж┐ржзрж╛ (Advantages)**

|рж╕рзБржмрж┐ржзрж╛|ржмрзНржпрж╛ржЦрзНржпрж╛|
|---|---|
|**Highly Flexible**|Complex logic, condition, looping, function рж╕ржм ржХрж┐ржЫрзБ Groovy ржжрж┐рзЯрзЗ ржХрж░рж╛ ржпрж╛рзЯред|
|**Full Control**|Developer рж╕ржорзНржкрзВрж░рзНржг control ржкрж╛рзЯ ржХрзЛржи stage ржХржмрзЗ ржЪрж▓ржмрзЗред|
|**Dynamic Pipeline**|Variable, parameter, ржмрж╛ environment-ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ dynamic flow рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред|
|**Custom Error Handling**|Try-Catch ржмрзНрж▓ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ custom error message ржУ rollback logic рж▓рзЗржЦрж╛ ржпрж╛рзЯред|

---

### **Scripted Pipeline-ржПрж░ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ (Limitations)**

|рж╕рзАржорж╛ржмржжрзНржзрждрж╛|ржмрзНржпрж╛ржЦрзНржпрж╛|
|---|---|
|**Complex Syntax**|Groovy scripting ржирж╛ ржЬрж╛ржирж▓рзЗ ржмрзЛржЭрж╛ ржХржарж┐ржиред|
|**Less Readable**|Declarative pipeline-ржПрж░ ржорждрзЛ structured ржирзЯ, рждрж╛ржЗ ржирждрзБржиржжрзЗрж░ ржЬржирзНржп ржХржарж┐ржиред|
|**Maintenance Heavy**|ржмрзЬ pipeline рж╣рж▓рзЗ script ржЕржирзЗржХ ржЬржЯрж┐рж▓ рж╣рзЯрзЗ ржпрж╛рзЯред|
|**Error-Prone**|Syntactical mistake рж╣рж▓рзЗ pipeline run ржмрзНржпрж░рзНрже рж╣рждрзЗ ржкрж╛рж░рзЗред|

---

### **Scripted vs Declarative Pipeline (рждрзБрж▓ржирж╛)**

|ржмрж┐рж╖рзЯ|**Scripted Pipeline**|**Declarative Pipeline**|
|---|---|---|
|**Syntax Style**|Groovy scripting|Structured YAML-like syntax|
|**Ease of Use**|ржЬржЯрж┐рж▓, flexible|рж╕рж╣ржЬ, readable|
|**Error Handling**|Try-Catch ржжрзНржмрж╛рж░рж╛ custom error control|Built-in error stage|
|**Learning Curve**|ржмрзЗрж╢рж┐ рж╕ржорзЯ рж▓рж╛ржЧрзЗ|ржирждрзБржиржжрзЗрж░ ржЬржирзНржп рж╕рж╣ржЬ|
|**Dynamic Logic**|рж╕рж╣ржЬрзЗ implement ржХрж░рж╛ ржпрж╛рзЯ|рж╕рзАржорж┐ржд flexibility|

---

### **рж╕ржВржХрзНрж╖рзЗржкрзЗ ржмрж▓рж╛ ржпрж╛рзЯ**

> **Scripted Pipeline** рж╣рж▓рзЛ Jenkins-ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ powerful ржХрж┐ржирзНрждрзБ рж╕ржмржЪрзЗрзЯрзЗ flexible pipeline formatред  
> ржПржЯрж┐ developer-ржжрзЗрж░ рж╕ржорзНржкрзВрж░рзНржг рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрзЗрзЯ рждрж╛ржжрзЗрж░ CI/CD workflow ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рж╛рж░ред

рждржмрзЗ ржирждрзБржиржжрзЗрж░ ржЬржирзНржп ржПржЯрж┐ ржХрж┐ржЫрзБржЯрж╛ ржХржарж┐ржи рж╣рждрзЗ ржкрж╛рж░рзЗ,  
рждрж╛ржЗ modern project-ржП ржПржЦржи рж╕рж╛ржзрж╛рж░ржгржд **Declarative Pipeline** ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рзГржд рж╣рзЯред
